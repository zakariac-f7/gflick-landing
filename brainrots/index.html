<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plants vs Brainrot - Item Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Fredoka:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #5a8b6c;
      --secondary-color: #7aa37a;
      --accent-color: #c1e6a8;
      --dark-color: #2c3e50;
      --light-color: #f5f5f5;
      --card-bg: rgba(255, 255, 255, 0.1);
      --text-color: #ffffff;
      --border-color: rgba(255, 255, 255, 0.2);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: var(--text-color);
      text-align: center;
      min-height: 100vh;
      position: relative;
      padding-bottom: 60px;
    }
    
    h1, h2, .pack div, #page-title {
      font-family: 'Fredoka', sans-serif;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    button {
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .header {
      padding: 15px 0;
      background: rgba(0, 0, 0, 0.6);
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      position: relative;
    }
    
    .header img {
      max-width: 80px;
      height: auto;
      margin-top: 5px;
      filter: drop-shadow(0 0 8px rgba(0, 128, 0, 0.5));
    }
    
    #page-title {
      font-size: 1.5rem;
      margin: 10px 0;
      color: var(--accent-color);
    }
    
    .subtitle {
      font-size: 0.9rem;
      color: #ccc;
      max-width: 800px;
      margin: 0 auto 15px;
      padding: 0 15px;
    }
    
    .stats-bar {
      display: flex;
      justify-content: space-around;
      max-width: 800px;
      margin: 0 auto 20px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    .stat {
      text-align: center;
    }
    
    .stat-number {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--accent-color);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #aaa;
    }
    
    .packs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 15px;
      padding: 15px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .pack {
      background: var(--card-bg);
      padding: 15px;
      border-radius: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
      font-weight: bold;
      text-align: center;
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
      cursor: pointer;
      backdrop-filter: blur(10px);
    }
    
    .pack:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 20px rgba(0, 0, 0, 0.4);
      border-color: var(--accent-color);
    }
    
    .pack img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 10px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      background: rgba(255, 255, 255, 0.1);
      padding: 5px;
    }
    
    .pack div {
      color: #fff;
      font-size: 0.9rem;
      margin-bottom: 10px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    .pack button {
      display: block;
      width: 100%;
      padding: 10px 15px;
      background: linear-gradient(to bottom, var(--primary-color), #3a6147);
      border: none;
      color: #fff;
      border-radius: 8px;
      font-weight: bold;
      margin-top: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }
    
    .pack button:hover {
      background: linear-gradient(to bottom, #5a966c, var(--primary-color));
      transform: translateY(-2px);
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.3);
    }
    
    /* Modal Styles */
    .modal, .modal-generate, .verification-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 15px;
    }
    
    .modal-content, .modal-generate-content {
      background: rgba(30, 30, 30, 0.95);
      color: #ffffff;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      width: 100%;
      max-width: 320px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      font-family: 'Fredoka', sans-serif;
      border: 1px solid var(--border-color);
      position: relative;
      backdrop-filter: blur(10px);
    }
    
    .verification-modal .modal-content {
      background: rgba(30, 30, 30, 0.95);
      color: #ffffff;
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      width: 100%;
      max-width: 350px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    }
    
    .modal-content input, .modal-generate-content button {
      width: 85%;
      padding: 12px;
      margin: 12px auto;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.9);
    }
    
    .modal-content button, .modal-generate-content button {
      padding: 12px 24px;
      background: linear-gradient(to bottom, var(--primary-color), #3a6147);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .modal-content button:hover, .modal-generate-content button:hover {
      background: linear-gradient(to bottom, #5a966c, var(--primary-color));
      transform: translateY(-2px);
      box-shadow: 0 6px 10px rgba(0, 0, 0, 0.3);
    }
    
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      color: #fff;
      font-size: 1.5rem;
      cursor: pointer;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.3);
    }
    
    .close-btn:hover {
      background: rgba(0, 0, 0, 0.5);
    }
    
    .progress-bar {
      width: 85%;
      background: #444;
      border-radius: 10px;
      overflow: hidden;
      margin: 20px auto;
      height: 20px;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    
    .progress-bar div {
      height: 100%;
      width: 0;
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      border-radius: 10px;
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.6);
    }
    
    .verify-btn {
      display: none;
      padding: 15px 30px;
      background: linear-gradient(145deg, #007bff, #0056b3);
      border: none;
      border-radius: 10px;
      color: #fff;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      margin: 20px auto;
      text-align: center;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }
    
    .verify-btn.active {
      display: block;
    }
    
    .verify-btn:hover {
      background: linear-gradient(145deg, #0056b3, #007bff);
      transform: translateY(-2px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
    }
    
    .fade {
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .fade-in {
      opacity: 1;
    }
    
    /* Animation for modal appearance */
    @keyframes modalFadeIn {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    .modal-content {
      animation: modalFadeIn 0.4s ease;
    }
    
    @keyframes flipIn {
      0% {
        opacity: 0;
        transform: rotateX(-90deg) scale(0.8);
      }
      60% {
        opacity: 1;
        transform: rotateX(20deg) scale(1.05);
      }
      100% {
        transform: rotateX(0deg) scale(1);
      }
    }

    .modal-generate-content {
      transform-origin: top center;
      animation: flipIn 0.6s ease-out;
    }
    
    .complete-btn.active {
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 100% { background: linear-gradient(to bottom, var(--primary-color), #2e7d32); }
      50% { background: linear-gradient(to bottom, #66bb6a, #43a047); }
    }
    
    /* Popup styles */
    .popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      padding: 15px;
    }
    
    .popup-content {
      background: linear-gradient(135deg, var(--dark-color), #4a6572);
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      width: 100%;
      max-width: 300px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      border: 1px solid var(--border-color);
    }
    
    .popup-content img {
      width: 200px;
      height: 200px;
      margin: 0 auto 15px;
      border-radius: 8px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      object-fit: contain;
    }
    
    .popup-content button {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    
    #popup-points {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-size: 18px;
    }
    
    #popup-points:hover {
      transform: scale(1.05);
      background: linear-gradient(135deg, #2575fc, #6a11cb);
    }
    
    #open-btn {
      background: linear-gradient(135deg, #8e44ad, #9b59b6);
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-size: 18px;
    }
    
    #open-btn:hover {
      background: linear-gradient(135deg, #9b59b6, #8e44ad);
      transform: scale(1.05);
    }
    
    .close-popup {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 18px;
      cursor: pointer;
      color: #fff;
      background: rgba(0, 0, 0, 0.3);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Loader */
    .loader {
      border: 5px solid #f3f3f3;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: auto;
      display: none;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* iframe for locker */
    .locker-iframe {
      width: 100%;
      border: none;
      height: 100%;
      min-height: 500px;
      box-sizing: border-box;
      border-radius: 8px;
    }
    
    /* Container for iframe (wrapper) */
    .locker-popup-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      width: 100%;
      height: 500px;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
    }
    
    .locker-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      font-size: 18px;
      cursor: pointer;
      z-index: 10;
    }
    
    /* Footer */
    .footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      padding: 15px 0;
      background: rgba(0, 0, 0, 0.7);
      color: #aaa;
      font-size: 0.8rem;
      text-align: center;
    }
    
    /* Roblox loader */
    .roblox-loader {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin-bottom: 20px;
    }
    
    .roblox-loader div {
      width: 14px;
      height: 14px;
      background-color: #ffffff;
      border-radius: 3px;
      animation: bounce 1.2s infinite ease-in-out both;
    }
    
    .roblox-loader div:nth-child(1) {
      animation-delay: -0.4s;
    }
    
    .roblox-loader div:nth-child(2) {
      animation-delay: -0.2s;
    }
    
    .roblox-loader div:nth-child(3) {
      animation-delay: 0s;
    }
    
    .roblox-loader div:nth-child(4) {
      animation-delay: 0.2s;
    }
    
    @keyframes bounce {
      0%, 80%, 100% {
        transform: scale(0.8);
        opacity: 0.5;
      }
      40% {
        transform: scale(1.3);
        opacity: 1;
      }
    }
    
    .square-loader {
      width: 64px;
      height: 64px;
      position: relative;
      margin: 0 auto 20px;
    }
    
    .square-loader div {
      width: 16px;
      height: 16px;
      background: #ffffff;
      position: absolute;
      animation: squareFade 1.2s linear infinite;
    }
    
    .square-loader div:nth-child(1) {
      top: 0;
      left: 0;
      animation-delay: 0s;
    }
    
    .square-loader div:nth-child(2) {
      top: 0;
      right: 0;
      animation-delay: 0.3s;
    }
    
    .square-loader div:nth-child(3) {
      bottom: 0;
      right: 0;
      animation-delay: 0.6s;
    }
    
    .square-loader div:nth-child(4) {
      bottom: 0;
      left: 0;
      animation-delay: 0.9s;
    }
    
    @keyframes squareFade {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.5);
        opacity: 0;
      }
    }
    
    .modal-item-img {
      width: 100px;
      height: auto;
      margin: 0 auto 15px;
      display: block;
      animation: zoomIn 0.4s ease;
      border-radius: 8px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      object-fit: contain;
    }
    
    @keyframes zoomIn {
      from { transform: scale(0.5); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    /* Search bar */
    .search-container {
      max-width: 600px;
      margin: 0 auto 15px;
      padding: 0 15px;
    }
    
    .search-bar {
      display: flex;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 30px;
      padding: 8px 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    .search-bar input {
      flex: 1;
      background: transparent;
      border: none;
      color: white;
      padding: 8px;
      font-size: 1rem;
      outline: none;
    }
    
    .search-bar button {
      background: transparent;
      border: none;
      color: var(--accent-color);
      cursor: pointer;
      padding: 0 10px;
    }
    
    /* Filter buttons */
    .filter-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 15px;
      padding: 0 15px;
    }
    
    .filter-btn {
      padding: 6px 12px;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      border-radius: 20px;
      color: #ccc;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.8rem;
    }
    
    .filter-btn.active, .filter-btn:hover {
      background: var(--primary-color);
      color: white;
    }
    
    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary-color);
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 3000;
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      max-width: 300px;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    /* Dark mode toggle */
    .dark-mode-toggle {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* FAQ section */
    .faq-section {
      max-width: 800px;
      margin: 30px auto;
      padding: 15px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      text-align: left;
    }
    
    .faq-item {
      margin-bottom: 15px;
    }
    
    .faq-question {
      font-weight: bold;
      color: var(--accent-color);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.9rem;
    }
    
    .faq-answer {
      margin-top: 10px;
      padding: 10px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 5px;
      display: none;
      font-size: 0.85rem;
    }
    
    .faq-answer.show {
      display: block;
    }
    
    /* Trust badges */
    .trust-badges {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .trust-badge {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.8rem;
      color: #ccc;
    }
    
    .trust-badge i {
      color: var(--accent-color);
    }
    
    /* Mobile-specific adjustments */
    @media (max-width: 480px) {
      .packs {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        padding: 10px;
      }
      
      .pack img {
        width: 70px;
        height: 70px;
      }
      
      #page-title {
        font-size: 1.3rem;
      }
      
      .modal-content, .modal-generate-content {
        padding: 15px;
      }
      
      .stats-bar {
        flex-direction: column;
        gap: 10px;
      }
      
      .trust-badges {
        gap: 10px;
      }
      
      .trust-badge {
        font-size: 0.7rem;
      }
    }
    
    /* Glow effect for premium feel */
    .glow {
      box-shadow: 0 0 15px rgba(200, 200, 200, 0.3);
    }
    
    .pack.glow {
      box-shadow: 0 0 20px rgba(200, 200, 200, 0.2);
    }
    
    /* Improved button styles */
    .btn-primary {
      background: linear-gradient(145deg, var(--primary-color), #3a6147);
      border: none;
      border-radius: 8px;
      color: white;
      padding: 12px 20px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }
    
    /* Security notice */
    .security-notice {
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 8px;
      margin: 15px auto;
      max-width: 800px;
      font-size: 0.8rem;
      color: #ccc;
    }
    
    .security-notice i {
      color: var(--accent-color);
      margin-right: 5px;
    }
    
    /* Floating items animation */
    .floating-item {
      position: fixed;
      pointer-events: none;
      z-index: 1;
      max-width: 60px;
      max-height: 60px;
    }
    
    @keyframes float1 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(5px, 8px) rotate(5deg); }
      50% { transform: translate(3px, 12px) rotate(0deg); }
      75% { transform: translate(7px, 5px) rotate(-5deg); }
    }
    
    @keyframes float2 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(-5px, 8px) rotate(-5deg); }
      50% { transform: translate(-3px, 12px) rotate(0deg); }
      75% { transform: translate(-7px, 5px) rotate(5deg); }
    }
    
    @keyframes float3 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(3px, -8px) rotate(3deg); }
      50% { transform: translate(5px, -12px) rotate(0deg); }
      75% { transform: translate(7px, -5px) rotate(-3deg); }
    }
  </style>
</head>
<body>
  <!-- Floating items container -->
  <div id="floating-items-container">
    <!-- Floating items will be dynamically added here -->
  </div>

  <div class="header">
    <button class="dark-mode-toggle" id="dark-mode-toggle">
      <i class="fas fa-moon"></i>
    </button>
    <img src="https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/f/f0/ShroombinoPlant.png" alt="Logo">
    <h1 id="page-title">Plants vs Brainrot - Item Generator</h1>
    <p class="subtitle">Unlock exclusive plants and brainrot items for your collection</p>
    
    <div class="stats-bar">
      <div class="stat">
        <div class="stat-number" id="total-claims">12,849</div>
        <div class="stat-label">Total Claims</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="online-users">384</div>
        <div class="stat-label">Online Now</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="success-rate">98%</div>
        <div class="stat-label">Success Rate</div>
      </div>
    </div>
    
    <div class="trust-badges">
      <div class="trust-badge">
        <i class="fas fa-shield-alt"></i>
        <span>Secure Connection</span>
      </div>
      <div class="trust-badge">
        <i class="fas fa-user-check"></i>
        <span>Verified Service</span>
      </div>
      <div class="trust-badge">
        <i class="fas fa-clock"></i>
        <span>Instant Delivery</span>
      </div>
    </div>
    
    <div class="search-container">
      <div class="search-bar">
        <input type="text" id="search-input" placeholder="Search items...">
        <button id="search-btn">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
    
    <div class="filter-buttons">
      <button class="filter-btn active" data-filter="all">All Items</button>
      <button class="filter-btn" data-filter="plant">Plants</button>
      <button class="filter-btn" data-filter="brainrot">Brainrot</button>
    </div>
  </div>

  <div class="security-notice">
    <i class="fas fa-lock"></i>
    <span>Your information is secure and encrypted. We never store personal data.</span>
  </div>

  <div id="gem-packs" class="packs fade fade-in">
    <!-- Items will be loaded dynamically -->
  </div>

  <!-- Modal 1: Player ID -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal()">×</button>
      <img id="modal-item-img" src="" alt="Selected Item" class="modal-item-img">
      <h3 id="modal-item-name"></h3>
      <p>Enter Your Username</p>
      <input type="text" id="username-input" placeholder="Enter Username">
      <button class="btn-primary" onclick="openGenerateModal()">Next</button>
    </div>
  </div>

  <!-- Modal 2: Generate -->
  <div class="modal-generate" id="modal-generate">
    <div class="modal-generate-content">
      <div class="roblox-loader" id="roblox-loader">
        <div></div><div></div><div></div><div></div>
      </div>
      <p>Generating...</p>
      <div class="progress-bar">
        <div id="progress"></div>
      </div>
      <button class="complete-btn btn-primary" id="complete-btn" onclick="showVerificationModal()">Continue</button>
    </div>
  </div>

  <!-- Modal 3: Verification -->
  <div class="verification-modal" id="verification-modal">
    <div class="modal-content">
      <div class="square-loader">
        <div></div><div></div><div></div><div></div>
      </div>
      <p id="verification-message">Connecting to Plants vs Brainrot Server...</p>
      <p id="pre-verify-message" style="display: none;">Please Verify That You Are Not A Robot To Send Your Item Successfully, Click The Button And Complete One Task.</p>
      <button id="verify-button" class="verify-btn" onclick="openLocker()">Verify Now</button>
    </div>
  </div>

  <div class="popup" id="popup">
    <div class="popup-content" id="popup-content">
      <span class="close-popup" onclick="closePopup()">×</span>
      <img id="popup-img" src="" alt="Item">
      <h2 id="popup-title"></h2>
      <button class="points-btn" id="popup-points" onclick="startLoading()">NEXT</button>
      <div class="loader" id="loader"></div>
      <button class="open-btn" id="open-btn" onclick="openLocker()">Open Locker</button>
    </div>
  </div>

  <div class="popup" id="locker-popup">
    <div class="locker-popup-content">
      <button class="locker-close" onclick="closeLocker()">×</button>
      <iframe id="locker-iframe" class="locker-iframe" src="" title="Locker"></iframe>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">
        How does this generator work? <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        Our generator connects to the game's database through secure protocols to add items to your account. Simply select an item, enter your username, complete verification, and the items will be added to your account.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">
        Is this safe to use? <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        Yes, our tool is completely safe. We use encrypted connections and don't store any of your personal information. The verification process ensures that only real users can generate items.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">
        How long does it take to receive items? <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        Items are typically delivered within 5-10 minutes after completing verification. In rare cases, it may take up to 24 hours during high traffic periods.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">
        Will I get banned for using this? <i class="fas fa-chevron-down"></i>
      </div>
      <div class="faq-answer">
        No, our method is undetectable and safe. We've been providing this service for over 2 years with zero reported bans from using our generator.
      </div>
    </div>
  </div>

  <div class="footer">
    © 2025 Plants vs Brainrot Generator. All rights reserved.
    <br>This site is not affiliated with the game developers.
  </div>

  <div class="notification" id="notification">
    <i class="fas fa-check-circle"></i>
    <span id="notification-text"></span>
  </div>

  <script>
    // Items data from Plants vs Brainrot
    const items = [
      // Plants
      { name: "Shroombino", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/f/f0/ShroombinoPlant.png", category: "plant" },
      { name: "Tomatrio", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/9/92/Tomatrio.png", category: "plant" },
      { name: "Mr Carrot", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/7/7a/MrCarrot.png", category: "plant" },
      { name: "Carnivorous Plant", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/2/2f/CarnivorousPlant.png", category: "plant" },
      { name: "Cocotank", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/c/ca/CocoTank.png", category: "plant" },
      
      // Brainrot
      { name: "Dragon Cannelloni", image: "https://i.postimg.cc/kXgq9S4x/Boss-Dragon-Cannelloni.png", category: "brainrot" },
      { name: "Chef Cabracadabra", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/7/7a/MrCarrot.png", category: "brainrot" },
      { name: "Esok Sekolah", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/f/f0/ShroombinoPlant.png", category: "brainrot" },
      { name: "Rhino Toasterino", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/c/ca/CocoTank.png", category: "brainrot" },
      { name: "Hotspotini Burrito", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/9/92/Tomatrio.png", category: "brainrot" },
      { name: "67", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/2/2f/CarnivorousPlant.png", category: "brainrot" },
      { name: "Los Mr Carrotitos", image: "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/7/7a/MrCarrot.png", category: "brainrot" }
    ];

    let selectedItem = null;
    let selectedItemImg = null;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      loadItems();
      setupEventListeners();
      updateOnlineUsers();
      initFloatingItems();
      
      // Update online users every minute
      setInterval(updateOnlineUsers, 60000);
    });

    function loadItems(filter = 'all') {
      const packsContainer = document.getElementById('gem-packs');
      packsContainer.innerHTML = '';
      
      const filteredItems = filter === 'all' ? items : items.filter(item => item.category === filter);
      
      filteredItems.forEach(item => {
        const packElement = document.createElement('div');
        packElement.className = 'pack glow';
        packElement.dataset.category = item.category;
        packElement.innerHTML = `
          <img src="${item.image}" alt="${item.name}">
          <div>${item.name}</div>
          <button class="btn-primary" onclick="openModal('${item.name}', '${item.image}')">Claim</button>
        `;
        packsContainer.appendChild(packElement);
      });
    }

    function setupEventListeners() {
      // Search functionality
      document.getElementById('search-btn').addEventListener('click', searchItems);
      document.getElementById('search-input').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') searchItems();
      });
      
      // Filter buttons
      document.querySelectorAll('.filter-btn').forEach(button => {
        button.addEventListener('click', function() {
          document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          loadItems(this.dataset.filter);
        });
      });
      
      // Dark mode toggle
      document.getElementById('dark-mode-toggle').addEventListener('click', toggleDarkMode);
    }

    function searchItems() {
      const searchTerm = document.getElementById('search-input').value.toLowerCase();
      const packs = document.querySelectorAll('.pack');
      
      packs.forEach(pack => {
        const itemName = pack.querySelector('div').textContent.toLowerCase();
        if (itemName.includes(searchTerm)) {
          pack.style.display = 'block';
        } else {
          pack.style.display = 'none';
        }
      });
    }

    function updateOnlineUsers() {
      // Simulate fluctuating online users
      const onlineUsers = Math.floor(Math.random() * 100) + 300;
      document.getElementById('online-users').textContent = onlineUsers;
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      const icon = document.querySelector('.dark-mode-toggle i');
      
      if (document.body.classList.contains('dark-mode')) {
        document.body.style.backgroundColor = '#1a1a1a';
        document.body.style.backgroundImage = 'none';
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        showNotification('Dark mode enabled');
      } else {
        document.body.style.backgroundColor = '';
        document.body.style.backgroundImage = 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)';
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        showNotification('Dark mode disabled');
      }
    }

    function showNotification(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notification-text');
      
      notificationText.textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    function toggleFaq(element) {
      const answer = element.nextElementSibling;
      const icon = element.querySelector('i');
      
      answer.classList.toggle('show');
      
      if (answer.classList.contains('show')) {
        icon.classList.remove('fa-chevron-down');
        icon.classList.add('fa-chevron-up');
      } else {
        icon.classList.remove('fa-chevron-up');
        icon.classList.add('fa-chevron-down');
      }
    }

    function openModal(title, imgSrc) {
      selectedItem = title;
      selectedItemImg = imgSrc;
      
      const modal = document.getElementById('modal');
      modal.style.display = 'flex';

      const content = modal.querySelector('.modal-content');
      content.style.animation = 'none';
      void content.offsetWidth;
      content.style.animation = 'modalFadeIn 0.4s ease';

      const img = document.getElementById('modal-item-img');
      const itemName = document.getElementById('modal-item-name');
      
      if (imgSrc) {
        img.src = imgSrc;
        img.style.display = 'block';
        itemName.textContent = title;
      } else {
        img.style.display = 'none';
      }
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

    function openGenerateModal() {
      const username = document.getElementById('username-input').value;
      if (!username) {
        showNotification('Please enter your username!');
        return;
      }
      
      closeModal();

      const modalGenerate = document.getElementById('modal-generate');
      const content = modalGenerate.querySelector('.modal-generate-content');

      modalGenerate.style.display = 'flex';

      content.style.animation = 'none';
      void content.offsetWidth;
      content.style.animation = 'flipIn 0.6s ease-out';

      startProgress();
    }

    function startProgress() {
      const progress = document.getElementById('progress');
      const completeBtn = document.getElementById('complete-btn');
      progress.style.width = '0';
      completeBtn.classList.remove('active');
      
      let width = 0;
      const interval = setInterval(() => {
        if (width >= 100) {
          clearInterval(interval);
          completeBtn.classList.add('active');
        } else {
          width += 10;
          progress.style.width = width + '%';
        }
      }, 500);
    }

    function showVerificationModal() {
      document.getElementById('modal-generate').style.display = 'none';
      const verificationModal = document.getElementById('verification-modal');
      const verificationMessage = document.getElementById('verification-message');
      const preVerifyMessage = document.getElementById('pre-verify-message');
      const verifyButton = document.getElementById('verify-button');

      verificationModal.style.display = 'flex';

      let step = 0;
      const steps = [
        "Connecting to Plants vs Brainrot...",
        "Connected server successfully!",
        "Verifying user...",
        "User verified successfully!",
        "Finalizing..."
      ];

      const interval = setInterval(() => {
        if (step < steps.length) {
          verificationMessage.textContent = steps[step];
          verificationMessage.style.color = step === 1 || step === 3 ? "#8bc34a" : "#49a3f2";
          step++;
        } else {
          clearInterval(interval);
          verificationMessage.textContent = "LAST STEP!";
          verificationMessage.style.color = "#8bc34a";
          preVerifyMessage.style.display = 'block';
          verifyButton.classList.add('active');
        }
      }, 2000);
    }

    function openPopup(title, imgSrc, points) {
      document.getElementById("popup-title").innerText = "Claim " + title;
      document.getElementById("popup-img").src = imgSrc;
      document.getElementById("popup-points").innerText = points + " NEXT";
      document.getElementById("popup").style.display = "flex";
      document.getElementById("popup-points").style.display = "block";
      document.getElementById("loader").style.display = "none";
      document.getElementById("open-btn").style.display = "none";
    }

    function closePopup() {
      document.getElementById("popup").style.display = "none";
    }

    function startLoading() {
      let popupContent = document.getElementById("popup-content");
      let pointsBtn = document.getElementById("popup-points");

      pointsBtn.style.opacity = "0";
      popupContent.classList.add("shake");

      setTimeout(() => {
        popupContent.classList.remove("shake");
        pointsBtn.style.display = "none";
        document.getElementById("loader").style.display = "block";
      }, 500);

      setTimeout(() => {
        document.getElementById("loader").style.display = "none";
        document.getElementById("open-btn").style.display = "block";
      }, 3000);
    }

    function openLocker() {
      document.getElementById("locker-popup").style.display = "flex";
      document.getElementById("locker-iframe").src = "https://gflick.xyz/cl/i/pq2732";
      
      document.getElementById("locker-iframe").onload = function() {
        let iframe = document.getElementById("locker-iframe");
        try {
          let iframeContentHeight = iframe.contentWindow.document.body.scrollHeight;
          let iframeContentWidth = iframe.contentWindow.document.body.scrollWidth;
          iframe.style.height = iframeContentHeight + "px";
          iframe.style.width = iframeContentWidth + "px";
        } catch (e) {
          console.log("Could not access iframe content:", e);
        }
      }
    }

    function closeLocker() {
      document.getElementById("locker-popup").style.display = "none";
      document.getElementById("locker-iframe").src = "";
    }

    // Initialize floating items
    function initFloatingItems() {
      const container = document.getElementById('floating-items-container');
      const images = [
        "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/2/2f/CarnivorousPlant.png",
        "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/9/92/Tomatrio.png",
        "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/7/7a/MrCarrot.png",
        "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/f/f0/ShroombinoPlant.png",
        "https://i.postimg.cc/kXgq9S4x/Boss-Dragon-Cannelloni.png",
        "https://static.wikia.nocookie.net/plants-vs-brainro-ts/images/c/ca/CocoTank.png"
      ];
      
      // Create floating items
      for (let i = 0; i < 8; i++) { // Reduced number for mobile performance
        const img = document.createElement('img');
        img.src = images[Math.floor(Math.random() * images.length)];
        img.className = 'floating-item';
        
        // Random size between 30px and 60px for mobile
        const size = Math.floor(Math.random() * 30) + 30;
        img.style.width = `${size}px`;
        img.style.height = 'auto';
        
        // Random position
        img.style.left = `${Math.random() * 100}%`;
        img.style.top = `${Math.random() * 100}%`;
        
        // Random animation
        const animationNames = ['float1', 'float2', 'float3'];
        const animationName = animationNames[Math.floor(Math.random() * animationNames.length)];
        const animationDuration = (Math.random() * 20) + 15;
        const animationDelay = -(Math.random() * 35);
        
        img.style.animationName = animationName;
        img.style.animationDuration = `${animationDuration}s`;
        img.style.animationDelay = `${animationDelay}s`;
        img.style.pointerEvents = 'none';
        
        container.appendChild(img);
      }
    }
  </script>
</body>
</html>
